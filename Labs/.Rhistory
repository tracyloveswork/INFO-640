library(tidyverse)
library(dplyr)
library(lubridate)
meals <- read.csv("/Desktop/info640/DataSets/mealplan.csv", skip=3, header=TRUE, check.names = FALSE)
meals <- read.csv("../DataSets/mealplan.csv", skip=3, header=TRUE, check.names = FALSE)
class(meals)
# Check the size of the dataset
dim(meals)
# What are the variable names?
names(meals)
# Overview of dataset
str(meals)
# A better overview...
glimpse(meals)
# Statistical summary
summary(meals)
head(meals)
tail(meals)
# Create a new dataset using tidyverse gather function to pivot the header information into values
meals1 <- gather(meals, date, value, -Meal, -Location)
head(meals1)
# Break apart entree name and price into columns
meals1 <- separate(meals1, value, c("entree", "price"), sep=',')
str(meals1)
# Fix the dates
meals1$date <- mdy(meals1$date)
head(meals1)
# Remove the dollar sign
meals1$price <- gsub("\\$","",meals1$price)
head(meals1)
# Change the prices to number values
meals1$price <- as.numeric(meals1$price)
# histogram
hist(meals1$price)
#boxplot
boxplot(meals1$price)
# Check distribution of values
unique(meals1$price)
meals1$price[meals1$price==400] <- 4.00
hist(meals1$price)
summary(meals1)
# Remove whitespace
meals1$Meal <- str_trim(meals1$Meal)
meals1$entree <- str_trim(meals1$entree)
meals1$Location <- str_trim(meals1$Location)
meals1$entree[meals1$entree==""] <- "NA"
summary(meals1)
# Convert Meals and Location to characters
meals1$Meal <- as.character(meals1$Meal)
meals1$Location <- as.character(meals1$Location)
# Save another version to continue manipulation
meals2 <- meals1[,]
names(meals2) <- tolower(names(meals2))
head(meals2)
meals2$entree <- tolower(meals2$entree)
# remove NAs
mean(meals2$price, na.rm = TRUE)
maxprice <- max(meals2$price, na.rm=TRUE)
print(maxprice)
meals2$price_imputed <- meals2$price
meals2$price_imputed[is.na(meals2$price_imputed)]<- maxprice
# add up the price column
sum(meals2$price_imputed)
